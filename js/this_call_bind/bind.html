<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>bind</title>
</head>
<body>
  <script>
    // 定义了一个对象字面量
  var foo = {
    value:1
  };
  window.value = 2;
   // 定义了一个函数  生成期
  function bar(){
    // 生成不算， this不算
    // 运行时决定
    console.log(this.value);

  }
  bar();  // 普通函数  主动追
  bar.call(foo); // 指定this指向foo  相亲

  // 童养媳  
  // 指定函数this绑定为foo，产生一个新函数，
  // 之后再运行的时候，this就是被绑定的这个对象
  var bindFoo = bar.bind(foo);
  // console.log(bindFoo);
  setTimeout(function(){
    bindFoo();
  },2000)
  // bindFoo();
  // document.body.addEventListener('click',function(){
  //   alert(this.value);
  // })


  // 1. 事件函数内部  this会是事件发生的对象
  // 2. 事件是异步的，
  // 3. bind 
  var bindWindowOnload = bar.bind(foo);
  window.onload = bindWindowOnload;
  </script>
  
  
</body>
</html>